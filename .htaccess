# Turn on the rewrite engine
RewriteEngine On

# 1. If a directory exists → serve it (prevents 404 on real folders)
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# 2. If a file with .html exists → serve it without showing .html
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.*)$ $1.html [L]

# 3. Redirect old .html URLs to the clean version (SEO 301)
RewriteCond %{THE_REQUEST} \s/(.+?)\.html[\s?] [NC]
RewriteRule ^ /%1? [R=301,L]

# 4. (Optional) Force trailing slash on “folder” URLs
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*[^/])$ /$1/ [L,R=301]
